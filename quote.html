<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Your Free Solar Quote | Malaysia Solar</title>
    <meta name="description" content="Calculate your solar savings in 3 minutes. Get a personalized quote for your home in Malaysia.">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cabinet+Grotesk:wght@400;500;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/quote.css">
</head>
<body class="quote-page">
    <!-- Header -->
    <header class="site-header scrolled" id="header">
        <div class="container">
            <div class="header-inner">
                <a href="/" class="site-logo">
                    <div class="logo-icon">
                        <svg viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="5" fill="currentColor"/>
                            <path d="M12 2v3M12 19v3M4.22 4.22l2.12 2.12M17.66 17.66l2.12 2.12M2 12h3M19 12h3M4.22 19.78l2.12-2.12M17.66 6.34l2.12-2.12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <span>Malaysia<strong>Solar</strong></span>
                </a>

                <nav class="main-nav" id="main-nav">
                    <ul class="nav-menu">
                        <li><a href="/">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="quote.html" class="active">Get Quote</a></li>
                        <li><a href="lease.html">Lease-to-Own</a></li>
                        <li><a href="about.html">About</a></li>
                    </ul>
                </nav>

                <button class="menu-toggle" id="menu-toggle" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Quote Hero -->
    <section class="quote-hero">
        <div class="container">
            <h1>Get Your Free Solar Quote</h1>
            <p>Calculate your potential savings in just a few minutes</p>
        </div>
    </section>

    <!-- Quote Wizard -->
    <section class="quote-wizard">
        <div class="container">
            <div class="wizard-container">
                <!-- Progress Steps -->
                <div class="wizard-progress">
                    <div class="wizard-step active" data-step="1">
                        <div class="step-indicator">1</div>
                        <span class="step-label">Your Details</span>
                    </div>
                    <div class="wizard-step" data-step="2">
                        <div class="step-indicator">2</div>
                        <span class="step-label">Property Info</span>
                    </div>
                    <div class="wizard-step" data-step="3">
                        <div class="step-indicator">3</div>
                        <span class="step-label">Your Quote</span>
                    </div>
                </div>

                <!-- Step 1: Personal Details -->
                <div class="wizard-panel" id="step-1">
                    <div class="panel-header">
                        <h3>Tell Us About Yourself</h3>
                        <p>We'll use this to prepare your personalized quote</p>
                    </div>

                    <form id="quote-form-step1" class="quote-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label required">Full Name</label>
                                <input type="text" class="form-input" name="name" id="input-name" required placeholder="e.g., Ahmad bin Abdullah">
                            </div>
                            <div class="form-group">
                                <label class="form-label required">Phone Number</label>
                                <input type="tel" class="form-input" name="phone" id="input-phone" required placeholder="e.g., 012-345 6789">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label required">Email Address</label>
                                <input type="email" class="form-input" name="email" id="input-email" required placeholder="e.g., ahmad@email.com">
                            </div>
                            <div class="form-group">
                                <label class="form-label required">Monthly TNB Bill (RM)</label>
                                <input type="number" class="form-input" name="tnb_bill" id="input-tnb-bill" required placeholder="e.g., 500" min="100">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label required">Property Address</label>
                            <div class="address-input-group">
                                <input type="text" class="form-input" name="address" id="input-address" required placeholder="Enter your full address in Malaysia">
                                <button type="button" class="btn btn-secondary btn-analyze" id="analyze-roof-btn">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="11" cy="11" r="8"/>
                                        <path d="M21 21l-4.35-4.35"/>
                                    </svg>
                                    Analyze My Roof
                                </button>
                            </div>
                            <span class="form-hint">Enter your full address to analyze your roof's solar potential using satellite imagery</span>
                        </div>

                        <!-- Roof Analysis Results -->
                        <div id="roof-analysis-results" class="roof-analysis-results hidden"></div>

                        <div class="form-actions">
                            <button type="button" class="btn btn-primary" onclick="nextStep(2)">
                                Continue
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M5 12h14M12 5l7 7-7 7"/>
                                </svg>
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Step 2: Property Details -->
                <div class="wizard-panel hidden" id="step-2">
                    <div class="panel-header">
                        <h3>Property Qualification</h3>
                        <p>Help us understand your property better</p>
                    </div>

                    <div class="qualification-grid">
                        <div class="form-group">
                            <label class="form-label required">Are you the homeowner?</label>
                            <div class="radio-options">
                                <label class="radio-card">
                                    <input type="radio" name="is_homeowner" value="yes" required>
                                    <span class="radio-content">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
                                            <polyline points="9,22 9,12 15,12 15,22"/>
                                        </svg>
                                        <strong>Yes</strong>
                                        <span>I own this property</span>
                                    </span>
                                </label>
                                <label class="radio-card">
                                    <input type="radio" name="is_homeowner" value="no">
                                    <span class="radio-content">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="3" y="3" width="18" height="18" rx="2"/>
                                            <path d="M9 3v18M9 9h12"/>
                                        </svg>
                                        <strong>No</strong>
                                        <span>I am renting</span>
                                    </span>
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label required">Property Type</label>
                            <div class="radio-options">
                                <label class="radio-card small">
                                    <input type="radio" name="property_type" value="terrace" required>
                                    <span class="radio-content">
                                        <strong>Terrace</strong>
                                    </span>
                                </label>
                                <label class="radio-card small">
                                    <input type="radio" name="property_type" value="semi-d">
                                    <span class="radio-content">
                                        <strong>Semi-D</strong>
                                    </span>
                                </label>
                                <label class="radio-card small">
                                    <input type="radio" name="property_type" value="bungalow">
                                    <span class="radio-content">
                                        <strong>Bungalow</strong>
                                    </span>
                                </label>
                                <label class="radio-card small">
                                    <input type="radio" name="property_type" value="apartment">
                                    <span class="radio-content">
                                        <strong>Apartment</strong>
                                    </span>
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Estimated Roof Area (optional)</label>
                            <div class="roof-size-selector">
                                <button type="button" class="size-btn" data-size="small">
                                    <span class="size-range">15-30 sqm</span>
                                    <span class="size-label">Small</span>
                                </button>
                                <button type="button" class="size-btn active" data-size="medium">
                                    <span class="size-range">30-50 sqm</span>
                                    <span class="size-label">Medium</span>
                                </button>
                                <button type="button" class="size-btn" data-size="large">
                                    <span class="size-range">50-80 sqm</span>
                                    <span class="size-label">Large</span>
                                </button>
                                <button type="button" class="size-btn" data-size="xlarge">
                                    <span class="size-range">80+ sqm</span>
                                    <span class="size-label">Extra Large</span>
                                </button>
                            </div>
                            <input type="hidden" name="roof_size" id="roof-size" value="medium">
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" onclick="prevStep(1)">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M19 12H5M12 19l-7-7 7-7"/>
                            </svg>
                            Back
                        </button>
                        <button type="button" class="btn btn-primary" onclick="generateQuote()">
                            Generate My Quote
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Step 3: Results -->
                <div class="wizard-panel hidden" id="step-3">
                    <div class="results-panel">
                        <div class="results-header">
                            <div class="results-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <path d="M9 12l2 2 4-4"/>
                                </svg>
                            </div>
                            <h3>Your Solar Quote is Ready!</h3>
                            <p>Based on your RM <span id="result-bill">500</span>/month TNB bill</p>
                        </div>

                        <div class="recommendation-card">
                            <span class="rec-label">Recommended System</span>
                            <div class="rec-size" id="result-system-size">5kW</div>
                            <span class="rec-desc">Solar Panel System</span>
                            <div id="roof-analysis-badge" class="roof-badge hidden"></div>
                        </div>

                        <div class="results-grid">
                            <div class="result-item highlight">
                                <div class="result-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 1v22M17 5H9.5a3.5 3.5 0 100 7h5a3.5 3.5 0 110 7H6"/>
                                    </svg>
                                </div>
                                <div class="result-value" id="result-monthly-savings">RM 400</div>
                                <div class="result-label">Monthly Savings</div>
                            </div>
                            <div class="result-item">
                                <div class="result-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="3" y="4" width="18" height="18" rx="2"/>
                                        <line x1="16" y1="2" x2="16" y2="6"/>
                                        <line x1="8" y1="2" x2="8" y2="6"/>
                                        <line x1="3" y1="10" x2="21" y2="10"/>
                                    </svg>
                                </div>
                                <div class="result-value" id="result-yearly-savings">RM 4,800</div>
                                <div class="result-label">Yearly Savings</div>
                            </div>
                            <div class="result-item">
                                <div class="result-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"/>
                                        <polyline points="12,6 12,12 16,14"/>
                                    </svg>
                                </div>
                                <div class="result-value" id="result-roi-years">4.5 Years</div>
                                <div class="result-label">Payback Period</div>
                            </div>
                            <div class="result-item">
                                <div class="result-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="23,6 13.5,15.5 8.5,10.5 1,18"/>
                                        <polyline points="17,6 23,6 23,12"/>
                                    </svg>
                                </div>
                                <div class="result-value" id="result-25yr-savings">RM 120,000</div>
                                <div class="result-label">25-Year Savings</div>
                            </div>
                        </div>

                        <div class="package-includes">
                            <h4>Your Package Includes:</h4>
                            <div class="includes-grid">
                                <div class="include-item">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M22 11.08V12a10 10 0 11-5.93-9.14"/>
                                        <polyline points="22,4 12,14.01 9,11.01"/>
                                    </svg>
                                    <span><strong id="result-panel-count">12</strong> Premium Panels</span>
                                </div>
                                <div class="include-item">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M22 11.08V12a10 10 0 11-5.93-9.14"/>
                                        <polyline points="22,4 12,14.01 9,11.01"/>
                                    </svg>
                                    <span>Tier-1 Inverter</span>
                                </div>
                                <div class="include-item">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M22 11.08V12a10 10 0 11-5.93-9.14"/>
                                        <polyline points="22,4 12,14.01 9,11.01"/>
                                    </svg>
                                    <span>Professional Installation</span>
                                </div>
                                <div class="include-item">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M22 11.08V12a10 10 0 11-5.93-9.14"/>
                                        <polyline points="22,4 12,14.01 9,11.01"/>
                                    </svg>
                                    <span>NEM Application</span>
                                </div>
                                <div class="include-item">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M22 11.08V12a10 10 0 11-5.93-9.14"/>
                                        <polyline points="22,4 12,14.01 9,11.01"/>
                                    </svg>
                                    <span>25-Year Warranty</span>
                                </div>
                                <div class="include-item">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M22 11.08V12a10 10 0 11-5.93-9.14"/>
                                        <polyline points="22,4 12,14.01 9,11.01"/>
                                    </svg>
                                    <span>5-Year Maintenance</span>
                                </div>
                            </div>
                        </div>

                        <div class="price-card">
                            <div class="price-header">
                                <span>System Price</span>
                            </div>
                            <div class="price-value" id="result-system-price">RM 22,000</div>
                        </div>
                    </div>

                    <!-- Purchase Options -->
                    <div class="purchase-options">
                        <h4>Choose Your Path</h4>
                        <div class="options-grid">
                            <div class="option-card" id="option-buy" onclick="selectOption('buy')">
                                <div class="option-icon buy">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="1" y="4" width="22" height="16" rx="2"/>
                                        <line x1="1" y1="10" x2="23" y2="10"/>
                                    </svg>
                                </div>
                                <h5>Buy System</h5>
                                <p>Pay RM499 commitment fee for site visit. Full payment or financing available.</p>
                                <div class="option-price">
                                    <strong>RM 499</strong>
                                    <span>Commitment Fee</span>
                                </div>
                            </div>

                            <div class="option-card" id="option-lease" onclick="selectOption('lease')">
                                <div class="option-icon lease">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 1v22M17 5H9.5a3.5 3.5 0 100 7h5a3.5 3.5 0 110 7H6"/>
                                    </svg>
                                </div>
                                <h5>Lease-to-Own</h5>
                                <p>Zero upfront cost. Pay monthly from your savings. Own after lease period.</p>
                                <div class="option-price teal">
                                    <strong>RM 0</strong>
                                    <span>Upfront Cost</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Sections (hidden by default) -->
                    <div class="action-section hidden" id="buy-section">
                        <div class="action-card">
                            <h4>Pay Commitment Fee - RM 499</h4>
                            <p>This fee covers your site visit and drone survey. It will be deducted from your final system price.</p>

                            <form id="payment-form" class="payment-form">
                                <div class="form-group">
                                    <label class="form-label">Card Details</label>
                                    <div id="card-element" class="card-element"></div>
                                    <div id="card-errors" class="form-error"></div>
                                </div>

                                <button type="submit" class="btn btn-primary btn-lg w-full" id="submit-payment">
                                    Pay RM 499 & Book Site Visit
                                </button>
                            </form>
                        </div>
                    </div>

                    <div class="action-section hidden" id="lease-section">
                        <div class="action-card teal">
                            <h4>Lease-to-Own Application</h4>
                            <p>Start your journey to solar savings with zero upfront cost. Our team will contact you within 24 hours.</p>

                            <a href="lease.html" class="btn btn-primary btn-lg w-full">
                                Start Lease Application
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M5 12h14M12 5l7 7-7 7"/>
                                </svg>
                            </a>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" onclick="prevStep(2)">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M19 12H5M12 19l-7-7 7-7"/>
                            </svg>
                            Modify Quote
                        </button>
                        <a href="https://wa.me/60123456789?text=Hi!%20I%20just%20completed%20the%20solar%20quote%20calculator." class="btn btn-secondary" target="_blank">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347"/>
                            </svg>
                            WhatsApp Us
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-bottom" style="border-top: none; padding-top: 0;">
                <p>&copy; 2024 Malaysia Solar. All rights reserved.</p>
                <div class="footer-legal">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="assets/js/main.js"></script>
    <script src="assets/js/quote.js"></script>
</body>
</html>
